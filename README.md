Задача
Необходимо реализовать сервис, позволяющий следить за изменением цены любой квартиры на prinzip.su:
Сервис должен предоставить HTTP метод для подписки на изменение цены. На вход метод получает - ссылку на
объявление, email на который присылать уведомления.
После успешной подписки, сервис должен сохранить данные. Хранить данные стоит в SQLite или MS SQL на ваш выбор.
Должен быть предоставлен HTTP-метод, который вернет актуальные цены квартир, для которых выполнена подписка, и
ссылки на эти квартиры.
Чтобы получить цену квартиры, можно:
парсить web-страницу объявления
самостоятельно проанализировать трафик на мобильном сайте и выяснить какой там API для получения информации о
квартире
(Опционально) Нужно проработать архитектуру сервиса и описать принципиальную схему работы в виде текста и/или диаграмм.


Выбор базы данных
В качестве базы данных выберем SQLite, так как она проста в настройке и подходит для небольших проектов.
База была сформирована путем миграции командами:

dotnet ef migrations add InitialCreate - Что делает эта команда?
Она сканирует приложение и находит все классы, унаследованные от DbContext.
Анализирует модель данных и сравнивает её с текущей структурой базы данных (если база данных ещё не существует, то сравнение проводится с пустой схемой).
Создаёт файлы миграции, содержащие инструкции для создания новой схемы базы данных или внесения изменений в существующую.

dotnet ef database update - Что делает эта команда?
Сравнивает текущие миграции с теми, которые уже применены к базе данных.
Применяет все недостающие миграции, начиная с самой ранней и заканчивая последней.
В результате выполнения этой команды в базе данных создаются или изменяются таблицы и индексы согласно описаниям в файлах миграций.

Архитектура сервиса
Основные компоненты:
1.API: Веб-интерфейс для взаимодействия с сервисом через HTTP-запросы.
2.База данных: Для хранения ссылок на объявления и соответствующих им электронных адресов.
2.Парсер: Компонент, отвечающий за извлечение актуальной цены квартиры с сайта.
3.Планировщик задач: Для периодического обновления цен и отправки уведомлений пользователям.

Принципиальная схема работы
1.Пользователь подписывается на отслеживание изменений цены квартиры, отправляя ссылку на объявление и свой email.
2.Сервис сохраняет эту информацию в базе данных.
3.Планировщик запускает процесс парсинга страниц объявлений для всех сохраненных ссылок.
4.Если цена изменилась, отправляется уведомление на указанный email. (Для простоты проверки работоспособности время проверки установил на 30 секунд)
5.Пользователи могут запросить актуальные цены квартир, для которых они подписаны.



